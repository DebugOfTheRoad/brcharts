<!DOCTYpE html publiC "-//W3C//Dtd XHTML 1.0 transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-transitional.dtd">
<html>
    <head>
        <title>柱状图</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
        <script src="../charts/lib/jquery-1.8.3.js"></script>
        <script src="../charts/highcharts/highcharts.src.js"></script>
        <script src="../charts/lib/require.js"></script>  
        <script>
            require(["../charts/columnchart"],function(ColumnChart){
                $(function(){
                    var data=[{"taskName":"任务1","城市":"北京","在线人数":520000,"报警次数":52000},
                                {"taskName":"任务1","城市":"天津","在线人数":360000,"报警次数":36000},
                                {"taskName":"任务1","城市":"郑州","在线人数":780000,"报警次数":78000},
                                {"taskName":"任务1","城市":"广州","在线人数":690000,"报警次数":69000},
                                {"taskName":"任务1","城市":"上海","在线人数":840000,"报警次数":84000},
                                {"taskName":"任务2","城市":"北京","在线人数":830000,"报警次数":83000},
                                {"taskName":"任务2","城市":"天津","在线人数":970000,"报警次数":97000},
                                {"taskName":"任务2","城市":"郑州","在线人数":1130000,"报警次数":113000},
                                {"taskName":"任务2","城市":"广州","在线人数":1050000,"报警次数":105000},
                                {"taskName":"任务2","城市":"上海","在线人数":740000,"报警次数":74000},
                                {"taskName":"任务3","城市":"北京","在线人数":660000,"报警次数":66000},
                                {"taskName":"任务3","城市":"天津","在线人数":540000,"报警次数":54000},
                                {"taskName":"任务3","城市":"郑州","在线人数":330000,"报警次数":33000},
                                {"taskName":"任务3","城市":"广州","在线人数":410000,"报警次数":41000},
                                {"taskName":"任务3","城市":"上海","在线人数":570000,"报警次数":57000}
                              ];
                
                    var option={
                        containerId: "container",    //放置HighCharts容器对应的ID
                        shows: ["在线人数","报警次数"],         //要显示的指标
                        title: "柱状图",             //标题
                        subtitle: "副标题",          //副标题  
                        yTitle: "在线人数",          //y轴标题     
                        xName: "城市",                //x轴显示的名称 
                        inverted: false,       //是否翻转 
                        group: "taskName",     //柱状图：分组依据 
                        stacking: "normal"     //堆栈显示类型：null=禁用，normal=正常，percent=百分比 
                    };
                   
                    var chart=new ColumnChart();
                    chart.setData(data);
                    chart.setOption(option);
                    chart.draw();
                });
            });
        </script>
    </head>
    <body>
        <div id="container" style="height:450px;"></div>
    </body>
</html>
