<!DOCTYpE html publiC "-//W3C//Dtd XHTML 1.0 transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-transitional.dtd">
<html>
    <head>
        <title>气泡图</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
        <script src="../charts/lib/jquery-1.8.3.js"></script>
        <script src="../charts/highcharts/highcharts.src.js"></script>
        <script src="../charts/highcharts/highcharts-more.src.js"></script>
        <script src="../charts/lib/require.js"></script>  
        <script>
            require(["../charts/brcharts"],function(brcharts){
                $(function(){
                    var data=[{"taskName":"任务1","城市":"北京","P_NUM":520,"COUNT":52,"SIZE":2},
                                {"taskName":"任务1","城市":"天津","P_NUM":360,"COUNT":36,"SIZE":3},
                                {"taskName":"任务1","城市":"郑州","P_NUM":780,"COUNT":78,"SIZE":54},
                                {"taskName":"任务1","城市":"广州","P_NUM":690,"COUNT":69,"SIZE":2},
                                {"taskName":"任务1","城市":"上海","P_NUM":840,"COUNT":84,"SIZE":3},
                                {"taskName":"任务2","城市":"北京","P_NUM":830,"COUNT":83,"SIZE":4},
                                {"taskName":"任务2","城市":"天津","P_NUM":970,"COUNT":97,"SIZE":6},
                                {"taskName":"任务2","城市":"郑州","P_NUM":1130,"COUNT":113,"SIZE":12},
                                {"taskName":"任务2","城市":"广州","P_NUM":1050,"COUNT":105,"SIZE":23},
                                {"taskName":"任务2","城市":"上海","P_NUM":740,"COUNT":74,"SIZE":22},
                                {"taskName":"任务3","城市":"北京","P_NUM":660,"COUNT":66,"SIZE":22},
                                {"taskName":"任务3","城市":"天津","P_NUM":540,"COUNT":54,"SIZE":12},
                                {"taskName":"任务3","城市":"郑州","P_NUM":330,"COUNT":33,"SIZE":12},
                                {"taskName":"任务3","城市":"广州","P_NUM":410,"COUNT":41,"SIZE":32},
                                {"taskName":"任务3","城市":"上海","P_NUM":570,"COUNT":57,"SIZE":20}
                              ];
                
                    var option={
                        containerId: "container",    //放置HighCharts容器对应的ID
                        shows: ["P_NUM","COUNT","SIZE"],         //要显示的指标
                        title: "气泡图",             //标题
                        subtitle: "副标题",          //副标题  
                        yTitle: "测试",          //y轴标题   
                        yUnit:"次",
                        fields:{
                            P_NUM:"人数",
                            COUNT:"个数",
                            SIZE:"大小"
                        },
                        group:"taskName"
                    };
                   
                    var chart=new brcharts.BubbleChart();
                    chart.setData(data);
                    chart.setOption(option);
                    chart.draw();
                });
            });
        </script>
    </head>
    <body>
        <div id="container" style="height:450px;"></div>
    </body>
</html>
